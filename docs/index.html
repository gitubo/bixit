<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bixit - Your Uncompromising Binary Message Dissector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="py-4">
        <nav class="container flex justify-between items-center">
            <div class="logo">Bixit</div>
            <ul class="flex space-x-6">
                <li><a href="#features">Features</a></li>
                <li><a href="#try-it">Try it</a></li>
                <li><a href="#comparison">Comparison</a></li>
                <li><a href="#how-it-works">How It Works</a></li>
                <li><a href="#genesis">The Genesis</a></li>
                <li><a href="https://github.com/gitubo/bixit" target="_blank" rel="noopener noreferrer" class="github-link">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero" class="bg-gradient-to-r from-blue-50 to-white py-20">
            <div class="hero-container">
                <div class="hero-content">
                    <h1>
                        Develop your binary message parser in <del>days</del> <span class="highlight"><i>minutes</i></span>
                    </h1>
                    <p>A powerful and configurable binary message parser designed to convert bits into readable JSON and back.</p>
                    <div class="hero-buttons">
                        <a href="#try-it" class="cta-button">Try It Now</a>
                    </div>
                </div>
                
                <div class="carousel-container">
                    <img src="images/bixit_scenario_01.png" alt="Traffic Analyzer" class="carousel-image active">
                    <img src="images/bixit_scenario_02.png" alt="Simulation (HIL)" class="carousel-image">
                    <img src="images/bixit_scenario_03.png" alt="ML Dataset" class="carousel-image">
                    <img src="images/bixit_scenario_04.png" alt="Logging" class="carousel-image">
                    
                    <div class="carousel-caption active">
                        <h4>Traffic Analyzer</h4>
                        <p>Identify relevant pattern of messages to update metrics and trigger alarms.</p>
                    </div>
                    <div class="carousel-caption">
                        <h4>Simulation (hardware-in-the-loop)</h4>
                        <p>Easily build commands and data to test a device in a hardware-in-the-loop scenario.</p>
                    </div>
                    <div class="carousel-caption">
                        <h4>Machine Learning Dataset</h4>
                        <p>Transform a huge amount of low-level messages into a useful dataset ready for training your models.</p>
                    </div>
                    <div class="carousel-caption">
                        <h4>Logging</h4>
                        <p>Centralize all the communications from/to your devices using just one simple decoder.</p>
                    </div>
                    
                    <button class="carousel-button prev" onclick="moveCarousel(-1)">&#10094;</button>
                    <button class="carousel-button next" onclick="moveCarousel(1)">&#10095;</button>
                </div>
            </div>
        </section>

        <section id="features" class="py-16 bg-white">
            <div class="container">
                <h2 class="text-3xl font-bold text-center mb-12">Features and Benefits</h2>
                <div class="features-grid">
                    <div class="feature-item">
                        <span>üåç</span>
                        <h3>Wide Applicability</h3>
                        <p>Ideal for IoT, automotive, aerospace, railway....</p>
                    </div>
                    <div class="feature-item">
                        <span>üéØ</span>
                        <h3>Zero Compromise</h3>
                        <p>Define complex formats with bit-level precision and conditions.</p>
                    </div>
                    <div class="feature-item">
                        <span>‚úçÔ∏è</span>
                        <h3>No Code</h3>
                        <p>Write a simple text file, no coding required.</p>
                    </div>
                    <div class="feature-item">
                        <span>üß©</span>
                        <h3>Max Flexibility</h3>
                        <p>Modular architecture for future expansions via scripting.</p>
                    </div>
                    <div class="feature-item">
                        <span>‚ö°</span>
                        <h3>High Performance</h3>
                        <p>Fast and efficient (de)serialization engine.</p>
                    </div>
                    <div class="feature-item">
                        <span>üîó</span>
                        <h3>Easy Integration</h3>
                        <p>Lightweight and linkable shared library.</p>
                    </div>
                    <div class="feature-item">
                        <span>üóÇÔ∏è</span>
                        <h3>Multi-Format</h3>
                        <p>Manage multiple formats and versions in a structured catalog.</p>
                    </div>
                    <div class="feature-item">
                        <span>üöÄ</span>
                        <h3>Anywhere</h3>
                        <p>Design your message format on your pc and deploy anywhere.</p>
                    </div>
                </div>
            </div>
        </section>
<section id="try-it" class="py-16 bg-white">
    <div class="container">
        <h2 class="text-3xl font-bold text-center mb-12">Try Bixit Now!</h2>

        <div class="grid grid-rows-2 gap-8">
            <div class="row-span-1 grid grid-cols-[2fr_1fr] gap-8 items-start">
                <div class="flex flex-col">
                    <label for="b2j-metadata" class="text-lg font-semibold mb-2 block">Schema</label>
                    <textarea id="b2j-metadata" rows="8" class="text-xs border p-4 rounded-md resize-none w-full"></textarea>
                </div>

                <div class="flex flex-col gap-4">
                    <p class="text-sm text-gray-700">Describe the format of your message or try one of the example below.</p>
                    <select id="schema-selector" class="text-sm border p-2 rounded-md w-full">
                        <option value="">Select a predefined format...</option>
                        <option value="canbus">CAN (standard)</option>
                    </select>
                    <p id="schema-description" class="text-sm text-gray-500 italic">If you have no idea how to start, just select one of the provided examples</p>
                </div>
            </div>

            <div class="row-span-1 grid grid-cols-[1fr_auto_1fr] gap-8 items-start">
                <div class="flex flex-col">
                    <label for="b2j-input" class="text-lg font-semibold mb-2">Bitstream</label>
                    <textarea id="b2j-input" rows="10" class="border p-4 rounded-md resize-none w-full" placeholder="Write your bitstream here (101001101010...)"></textarea>
                </div>

                <div class="flex flex-col items-center justify-center gap-4 py-8">
                    <input type="hidden" id="b2j-extra-int" value="0">
                    <button id="b2j-convert" class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition duration-300 w-full flex items-center justify-center gap-2" disabled>
                        
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            <path fill-rule="evenodd" d="M4.293 15.707a1 1 0 010-1.414L8.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </button>
                    <button id="j2b-convert" class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition duration-300 w-full flex items-center justify-center gap-2" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M9.707 4.293a1 1 0 010 1.414L5.414 10l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z" clip-rule="evenodd" />
                            <path fill-rule="evenodd" d="M15.707 4.293a1 1 0 010 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        
                    </button>
                </div>

                <div class="flex flex-col">
                    <label for="j2b-input" class="text-lg font-semibold mb-2">JSON</label>
                    <textarea id="j2b-input" rows="10" class="border p-4 rounded-md resize-none w-full" placeholder="Write the JSON representation of your message here."></textarea>
                </div>
            </div>
        </div>
    </div>
</section>
<section id="contact" class="py-16 bg-white">
  <div class="container max-w-xl mx-auto">
    <h2 class="text-3xl font-bold text-center mb-6">Contact Us</h2>
    <p class="text-center mb-8 text-gray-600">Send us feedback or questions. We'd love to hear from you!</p>
    <form id="contact-form" class="space-y-6">
      <!-- Honeypot field -->
      <input type="text" name="website" class="hidden" autocomplete="off">

      <div>
        <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
        <input type="text" name="name" id="name" required class="mt-1 block w-full border border-gray-300 rounded-md p-3 shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
        <input type="email" name="email" id="email" required class="mt-1 block w-full border border-gray-300 rounded-md p-3 shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
        <textarea name="message" id="message" rows="5" required class="mt-1 block w-full border border-gray-300 rounded-md p-3 shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>
      </div>

      <div class="text-center">
        <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition">Send Message</button>
      </div>

      <p id="form-response" class="text-center text-sm text-green-600 mt-4 hidden">Message sent successfully!</p>
    </form>
  </div>
</section>
<script>
document.getElementById('contact-form').addEventListener('submit', function(e) {
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form));

  // Honeypot check
  if (data.website) {
    console.warn("Bot submission blocked.");
    return;
  }

  fetch("https://script.google.com/macros/s/AKfycbzAimuZzGJba8jL8rv-5q5QeZe1L9YavojXZXKPwQa2LFRE03P9oLq5q3d1IJTEww/exec", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      name: data.name,
      email: data.email,
      message: data.message
    })
  })
  .then(res => res.json())
  .then(response => {
    if (response.result === "success") {
      document.getElementById('form-response').classList.remove('hidden');
      form.reset();
    } else {
      alert("There was a problem. Please try again.");
    }
  })
  .catch(err => {
    console.error("Error submitting form", err);
    alert("Error submitting form");
  });
});
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const schemaSelector = document.getElementById('schema-selector');
        const schemaDescription = document.getElementById('schema-description');
        const b2jMetadata = document.getElementById('b2j-metadata');
        const b2jInput = document.getElementById('b2j-input');

        schemaSelector.addEventListener('change', function() {
            const selectedValue = this.value;
            let descriptionText = '';
            let schemaContent = '';
            let bitstreamContent = '';

            switch (selectedValue) {
                case 'canbus':
                    descriptionText = 'CANBUS standard message schema.';
                    schemaContent = `{
    "1":   { "name": "main", "type": "root", "next_node": "2" },
    "2":   { "name": "start_of_frame", "type": "unsigned integer", "next_node": "3", "attributes": { "bit_length": 1, "endianness": "big" } },
    "3":    { "name": "identifier", "type": "unsigned integer", "next_node": "4", "attributes": { "bit_length": 11, "endianness": "big" } },
    "4":    { "name": "RTR", "type": "unsigned integer", "next_node": "5", "attributes": { "bit_length": 1, "endianness": "big" } },
    "5":    { "name": "IDE", "type": "unsigned integer", "next_node": "301", "attributes": { "bit_length": 1, "endianness": "big" } },
    "101":  { "name": "DLC", "type": "unsigned integer", "next_node": "102", "attributes": { "bit_length": 4, "endianness": "big" } },
    "102":  { "name": "__array__", "type": "array", "next_node": "103", "attributes": { "is_flatten": true, "repetitions": "/DLC", "is_absolute_reference": true, "array_node_id": "1000" } },
    "103":  { "name": "CRC", "type": "unsigned integer", "next_node": "104", "attributes": { "bit_length": 15, "endianness": "big" } },
    "104":  { "name": "CRC_delimiter", "type": "unsigned integer", "next_node": "105", "attributes": { "bit_length": 1, "endianness": "big" } },
    "105":  { "name": "ACK", "type": "unsigned integer", "next_node": "106", "attributes": { "bit_length": 1, "endianness": "big" } },
    "106":  { "name": "ACK_delimiter", "type": "unsigned integer", "next_node": "107", "attributes": { "bit_length": 1, "endianness": "big" } },
    "107":  { "name": "EOF", "type": "unsigned integer", "next_node": "", "attributes": { "bit_length": 7, "endianness": "big" } },
    "301":  { "name": "Reserved", "type": "unsigned integer", "next_node": "101", "attributes": { "bit_length": 1, "endianness": "big" } },
    "1000": { "name": "data", "type": "unsigned integer", "next_node": "", "attributes": { "bit_length": 8, "endianness": "big" } }
}`;
                    bitstreamContent = '000000010100000001000000001000000110100001100000001011111111';
                    break;
                case 'schema2':
                    descriptionText = 'Schema per i dettagli del prodotto.';
                    schemaContent = `{
    "productId": "integer",
    "productName": "string",
    "price": "float",
    "inStock": "boolean"
}`;
                    break;
                case 'schema3':
                    descriptionText = 'Schema per un semplice messaggio.';
                    schemaContent = `{
    "messageId": "integer",
    "text": "string"
}`;
                    break;
                default:
                    descriptionText = 'Il testo cambier√† in base alla selezione.';
                    schemaContent = '';
            }
            schemaDescription.textContent = descriptionText;
            b2jMetadata.value = schemaContent;
            b2jInput.value = bitstreamContent;
        });
    });
</script>
        <section id="comparison" class="py-16 bg-gray-50">
            <div class="container">
                <h2 class="text-3xl font-bold text-center mb-12">Why Choose Bixit?</h2>
                <p class="text-lg text-center mb-8 max-w-3xl mx-auto">
                    Compare Bixit with other solutions and see why it stands out.
                </p>
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Bixit</th>
                                <th>Custom</th>
                                <th>CBOR</th>
                                <th>JSON</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="feature-name">
                                    Performance
                                    <span class="feature-subtitle">Processing speed and efficiency of the parser</span>
                                </td>
                                <td class="bixit-column"><span class="check-mark">‚úì</span></td>
                                <td><span class="check-mark">‚úì</span></td>
                                <td><span class="partial-mark">‚óê</span></td>
                                <td><span class="x-mark">‚úó</span></td>
                            </tr>
                            <tr>
                                <td class="feature-name">
                                    Flexibility
                                    <span class="feature-subtitle">Ability of the parser to adapt to changing message format</span>
                                </td>
                                <td class="bixit-column"><span class="check-mark">‚úì</span></td>
                                <td><span class="x-mark">‚úó</span></td>
                                <td><span class="check-mark">‚úì</span></td>
                                <td><span class="check-mark">‚úì</span></td>
                            </tr>
                            <tr>
                                <td class="feature-name">
                                    Compactness
                                    <span class="feature-subtitle">Size of the message</span>
                                </td>
                                <td class="bixit-column"><span class="check-mark">‚úì</span></td>
                                <td><span class="check-mark">‚úì</span></td>
                                <td><span class="partial-mark">‚óê</span></td>
                                <td><span class="x-mark">‚úó</span></td>
                            </tr>
                            <tr>
                                <td class="feature-name">
                                    Easy Deployment
                                    <span class="feature-subtitle">Keep the parser up-to-date in a fast and easy manner</span>
                                </td>
                                <td class="bixit-column"><span class="check-mark">‚úì</span></td>
                                <td><span class="x-mark">‚úó</span></td>
                                <td><span class="check-mark">‚úì</span></td>
                                <td><span class="check-mark">‚úì</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="how-it-works" class="py-16 bg-white">
            <div class="container">
                    <h2 class="text-3xl font-bold text-center mb-12">How It Works</h2>
                    <div class="steps grid grid-cols-4 gap-6">
                        <div class="step text-center">
                            <div class="mb-4">
                                <span class="inline-flex items-center justify-center w-12 h-12 bg-blue-600 text-white rounded-full text-xl font-bold">1</span>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Develop</h3>
                            <p class="text-sm text-gray-600">Integrate the library into your business logic and use its API to encode/decode messages.</p>
                        </div>
                        <div class="step text-center">
                            <div class="mb-4">
                                <span class="inline-flex items-center justify-center w-12 h-12 bg-blue-600 text-white rounded-full text-xl font-bold">2</span>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Configure</h3>
                            <p class="text-sm text-gray-600">Describes the structure of your binary message in a simple config file.</p>
                        </div>
                        <div class="step text-center">
                            <div class="mb-4">
                                <span class="inline-flex items-center justify-center w-12 h-12 bg-blue-600 text-white rounded-full text-xl font-bold">3</span>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Deploy</h3>
                            <p class="text-sm text-gray-600">Install your application according to your needs and provide the config files.</p>
                        </div>
                        <div class="step text-center">
                            <div class="mb-4">
                                <span class="inline-flex items-center justify-center w-12 h-12 bg-blue-600 text-white rounded-full text-xl font-bold">4</span>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Maintain</h3>
                            <p class="text-sm text-gray-600">In case of any change in the message format, just align the config file and redeploy it.</p>
                        </div>
                    </div>
                </div>
        </section>

        <section id="genesis" class="py-16 bg-gray-50">
            <div class="container">
                <h2 class="text-3xl font-bold text-center mb-12">The Genesis of Bixit: Addressing Real-World Needs</h2>
                <p class="text-lg leading-relaxed text-center max-w-3xl mx-auto">
                    Bixit was born out of real-world challenges encountered in the <strong>railway industry</strong>, where a multitude of actors exchange a wide variety of binary messages, each with its own complex format. Developing software that interacts with such message streams is often <strong>costly and time-consuming</strong>, especially during <strong>prototyping and testing</strong> phases. Bixit was created to solve exactly this problem: a <strong>fast, deeply configurable</strong> and <strong>easy-to-integrate dissector</strong> that streamlines the message decoding pipeline, dramatically reducing time and effort, allowing engineering teams to focus on what matters most: the business logic.
                </p>
            </div>
        </section>

        <section id="cta" class="py-16 bg-blue-50 text-center">
            <div class="container">
                <h2 class="text-3xl font-bold mb-6">Ready to Simplify Binary Message Management?</h2>
                <p class="text-lg mb-8">Stop wrestling with complex configurations and start decoding what truly matters.</p>
                <a href="https://github.com/gitubo/bixit" class="cta-button" target="_blank" rel="noopener noreferrer">Discover Bixit on GitHub</a>
            </div>
        </section>
    </main>

    <footer class="py-8 text-center text-sm">
        <div class="container">
            <p>&copy; 2025 Bixit. All rights reserved.</p>
            <p class="mt-2">
                <a href="https://github.com/gitubo/bixit" target="_blank" rel="noopener noreferrer" class="hover:underline">View Project on GitHub</a> |
                <a href="https://www.gnu.org/licenses/lgpl-3.0" target="_blank" rel="noopener noreferrer" class="hover:underline">LGPL v3 License</a>
            </p>
        </div>
    </footer>

    <script src="script.js"></script>

    <script type="module">
        import createBixitModule from './bixit_module.js';
        const b2jBtn = document.getElementById('b2j-convert');
        const j2bBtn = document.getElementById('j2b-convert');

        let BixitModule; 

        function showResult(elementId, message) {
            const resultEl = document.getElementById(elementId);
            resultEl.value = message;
        }

        function binToB64(binaryString) {
            if (!binaryString) return '';

            if (!/^[01]*$/.test(binaryString)) {
                console.error("Invalid binary string:", binaryString);
                return '';
            }

            const paddedBinaryString = binaryString + '0'.repeat((8 - (binaryString.length % 8)) % 8);

            let byteString = '';
            for (let i = 0; i < paddedBinaryString.length; i += 8) {
                const byte = parseInt(paddedBinaryString.substring(i, i + 8), 2);
                byteString += String.fromCharCode(byte);
            }
            return btoa(byteString);
        }

        createBixitModule().then(Module => {
            BixitModule = Module; 
            if (BixitModule.calledRun) {
                initializeBixitFunctions();
            } else {
                BixitModule.onRuntimeInitialized = () => {
                    initializeBixitFunctions();
                };
            }
        }).catch(error => {
            consol.error(`Error loading parser: ${error}`);
        });

        function initializeBixitFunctions() {
            const b2jFunc = BixitModule.cwrap('b2j', 'number', ['string', 'string', 'number', 'number', 'number']);
            const j2bFunc = BixitModule.cwrap('j2b', 'number', ['string', 'string', 'number', 'number']);
            const pre_metadata = '{   "version": "0.1",   "metadata": {     "name": "",     "description": ""   },  "nodes": ';
            const post_metadata = '}';
                
            b2jBtn.addEventListener('click', () => {
                const metadata = pre_metadata + document.getElementById('b2j-metadata').value.replace(/[\n\t]/g, '') + post_metadata;
                const originalBInput = document.getElementById('b2j-input').value; 
                
                const extraIntEl = document.getElementById('b2j-extra-int');
                const extraInt = originalBInput.length;
                extraIntEl.value = extraInt; 

                const bInputBase64 = binToB64(originalBInput);
                if (!bInputBase64) {
                    showResult('b2j-result', 'Invalid BitStream: Must be a string of 0s and 1s.');
                    return;
                }
                executeConversion(b2jFunc, metadata, bInputBase64, extraInt, 'j2b-input');
            });

            j2bBtn.addEventListener('click', () => {
                const metadata = pre_metadata + document.getElementById('b2j-metadata').value.replace(/[\n\t]/g, '') + post_metadata;
                const jInput = document.getElementById('j2b-input').value.trim();
                executeConversion(j2bFunc, metadata, jInput, null, 'b2j-input');
            });

            b2jBtn.disabled = false;
            j2bBtn.disabled = false;
        }

        function executeConversion(wasmFunc, metadata, input, extraIntParam, resultElementId) {
            if (!metadata.trim() || !input.trim()) {
                showResult(resultElementId, 'Please fill both the schema and one of the input fields.');
                return;
            }
            try {
                const bufferSize = 4096;
                const outputBuffer = BixitModule._malloc(bufferSize);
                let result;

                if (extraIntParam !== null && extraIntParam !== undefined) {
                    result = wasmFunc(metadata, input, extraIntParam, outputBuffer, bufferSize);
                } else {
                    result = wasmFunc(metadata, input, outputBuffer, bufferSize);
                }

                if (result === 0) {
                    const outputString = BixitModule.UTF8ToString(outputBuffer);
                    showResult(resultElementId, `${outputString}`);
                } else {
                    showResult(resultElementId, `‚ùå Conversion failed with error code: ${result}`);
                }
                BixitModule._free(outputBuffer);
            } catch (error) {
                showResult(resultElementId, `‚ùå Error during conversion: ${error.message}`);
            }
        }
    </script>
</body>

</html>


